% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/iiasa_gtap.R
\name{iiasa_gtap}
\alias{iiasa_gtap}
\title{Process and Aggregate IIASA Data for GTAP SSP Integration}
\usage{
iiasa_gtap(
  outFile = NULL,
  group_cols = c("model", "scenario", "reg_iso3", "variable", "unit")
)
}
\arguments{
\item{outFile}{Character. Optional path to save the final dataset as a CSV file. If \code{NULL}, the
file is not saved. Default is \code{NULL}.}

\item{group_cols}{Character vector. Columns to group by during aggregation.
Default is \code{c("model", "scenario", "reg_gtap_code", "variable", "unit")}.}
}
\value{
A processed data frame containing the summarized and processed IIASA database.
}
\description{
This function executes the routine for processing and aggregating IIASA data for GTAP SSP integration.
The routine includes data aggregation, interpolation (spline and beers methods), column expansion,
filtering, and growth rate calculation. Optionally, the final dataset can be saved as a CSV file.
}
\details{
\strong{Steps in the Routine}:
\itemize{
\item \strong{Step 1: Data Aggregation}:
Aggregates the IIASA raw data using the \code{\link[=aggData]{aggData()}} function, grouping
by the columns specified in \code{group_cols}. This ensures regional mappings
and structured data organization.

\item \strong{Step 2: Spline Interpolation}:
Applies the \code{\link[=interpolate_spline]{interpolate_spline()}} function to interpolate missing values
for GDP-related variables (\code{"IIASA GDP 2023"}, \code{"OECD ENV-Growth 2023"}).
The cubic spline method provides a smooth approximation of missing data.

\item \strong{Step 3: Beers Interpolation}:
Uses \code{\link[=interpolate_beers]{interpolate_beers()}} to interpolate population data
(\code{model = "IIASA-WiC POP 2023"}) by age cohort. Beers interpolation
is well-suited for demographic data, maintaining consistency across
age structures.

\item \strong{Step 4: Combine Outputs}:
Stacks the interpolated data vertically, merging GDP and population
estimates into a unified dataset.

\item \strong{Step 5: Expand Scenarios}:
Expands historical reference scenarios across all SSP categories
(SSP1 to SSP5) to ensure consistency in projections.

\item \strong{Step 6: Expand Data}:
Ensures all possible combinations of regions, years, and scenarios exist,
filling missing entries with zero values.

\item \strong{Step 7: Merge Additional Labels}:
Joins auxiliary datasets (\code{educDict}, \code{cohortDict}, \code{genderDict})
to add educational level, cohort, and gender details to the dataset.

\item \strong{Step 8: Data Cleaning and Formatting}:
Standardizes column names, fills missing values, and adjusts GDP values
where necessary.

\item \strong{Step 9: Export Data (Optional)}:
Saves the processed dataset as \code{.har} (GTAP format) or \code{.csv} if an
output file path is provided.
}
}
\examples{
\dontrun{
# Run the routine and save output to a HAR
final_data <- gtapssp::iiasa_gtap(
  outFile = "path/to/output.har"
)

# Run the routine and save output to a CSV
final_data <- gtapssp::iiasa_gtap(
  outFile = "path/to/output.csv"
)

# Run the routine without saving
final_data <- gtapssp::iiasa_gtap()
}

}
\seealso{
\link[gtapssp]{aggData},
\link[gtapssp]{interpolate_spline},
\link[gtapssp]{interpolate_beers},
\link[gtapssp]{growth_rate}
}
